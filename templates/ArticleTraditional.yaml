id: 5
templatename: ArticleTraditional
category: t_publication
icon: icon-pencil
properties: 'a:2:{s:13:"elementStatus";a:7:{s:4:"name";s:13:"elementStatus";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:5:"solid";s:7:"lexicon";s:20:"romanesco:properties";s:4:"area";s:0:"";}s:14:"elementPreview";a:7:{s:4:"name";s:14:"elementPreview";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:20:"romanesco:properties";s:4:"area";s:0:"";}}'

-----

<!DOCTYPE html>
<html id="[[*context_key]]" lang="[[++cultureKey]]">

[[!Hits? &punch=`[[*id]]`]]

<head>
    [[[[modifiedIf?
        &subject=`headTheme`
        &operator=`iselement`
        &operand=`chunk`
        &then=`$headTheme`
        &else=`$head`
    ]]]]
</head>

<body id="[[*alias]]" class="publication detail">

[[$offCanvasNav]]

<div class="pusher">
    [[$headerBasic]]

    [[[[modifiedIf?
        &subject=`toolbarBasicTheme`
        &operator=`iselement`
        &operand=`chunk`
        &then=`$toolbarBasicTheme`
        &else=`$toolbarBasic`
    ]]]]

    <main id="main">
        <div class="ui very relaxed grid container">
            <article id="content" class="sixteen wide mobile eleven wide computer publication column">

                <header class="ui vertical stripe segment [[setBackground? &background=`[[++layout_background_default]]`]] introduction">

                    <div class="ui main container">
                        <h1 class="ui header">[[*pagetitle]]</h1>

                        <p class="meta">
                            <span class="author">
                                [[$imgOverviewPersonAvatarLink? &id=`[[*author_id]]`]]
                                [[#[[*author_id]].pagetitle:empty=`[[++site_name]]`]]
                            </span>
                            <span class="date">
                                <i class="alternate outline calendar icon"></i>
                                [[*publishedon:strtotime:date=`[[++romanesco.date_format_long]]`]]
                            </span>
                            <span class="reading-time">
                                <i class="outline time icon"></i>
                                <span class="value">[[*reading_time]]</span>
                                <span class="label">
                                    [[[[If?
                                        &subject=`[[*reading_time]]`
                                        &operator=`lte`
                                        &operand=`1`
                                        &then=`%romanesco.article.reading_time_1`
                                        &else=`%romanesco.article.reading_time`
                                    ]]]]
                                </span>
                            </span>
                        </p>
                    </div>
                </header>

                [[$content]]

                [[*author_id:notempty=`
                <section id="author-bio" class="ui vertical stripe segment [[setBackground? &background=`[[++layout_background_default]]`]]">
                    <div class="ui main container">
                        <div class="ui padded segment">
                            [[[[If?
                                &subject=`[[*author_id:empty=`0`]]`
                                &operator=`notempty`
                                &then=`getResources?
                                    &resources=`[[*author_id:empty=`0`]]`
                                    &tpl=`articleAuthorBio[[modifiedIf? &subject=`articleAuthorBioTheme` &operator=`iselement` &operand=`chunk` &then=`Theme` &else=``]]`
                                    &includeTVs=`1`
                                    &tvPrefix=``
                                `
                            ]]]]
                        </div>
                    </div>
                </section>
                `]]

                [[*comments_toggle:eq=`1`:then=`
                <section id="comments" class="ui vertical stripe segment [[setBackground? &background=`[[++layout_background_default]]`]]">
                    <div class="ui main container">
                        <h2 class="ui header">[[%romanesco.article.comments]]</h2>
                        <div id="[[++romanesco.[[++comment_platform:lcase]]_div_id]]"></div>
                    </div>
                </section>
                `]]

                <footer class="ui vertical stripe segment [[setBackground? &background=`[[++layout_background_default]]`]]">
                    <div class="ui container">
                        <div class="ui two column equal width bottom aligned grid">
                            <div class="compact column">
                                <a href="[[~[[*parent]]]]" class="primary ui back button">
                                    <i class="icon left arrow"></i>
                                    <span class="mobile hidden">[[%romanesco.article.back_to_overview]]</span>
                                </a>
                            </div>
                            <div class="right aligned column">
                                [[$socialShareButtons]]
                            </div>
                        </div>
                    </div>
                </footer>
            </article>

            <aside id="sidebar" class="sixteen wide mobile five wide computer column">
                <section class="ui vertical stripe segment transparent tablet or lower hidden">
                    <div class="ui container">
                        <div class="ui equal width middle aligned very compact grid">
                            <div class="compact column">
                                <h4 class="ui disabled mini header">
                                    [[%romanesco.article.share_this]]
                                </h4>
                            </div>
                            <div class="right aligned column">
                                [[$socialShareButtons? &button_type=`basic`]]
                            </div>
                        </div>
                    </div>
                </section>

                <section class="ui vertical stripe segment transparent">
                    <div class="ui container">
                        <div class="ui fluffy cloudy labels">
                            [[TaggerGetTags?
                                &groups=`[[*tag_groups]]`
                                &target=`[[*parent]]`
                                &rowTpl=`tagItemCountLinkWeight`
                            ]]
                        </div>
                    </div>
                </section>

                <section class="ui vertical stripe segment transparent">
                    <div class="ui container">
                        <h4 class="ui disabled header">[[%romanesco.article.read_another]]</h4>

                        <div class="ui two item top attached tabular menu">
                            <a class="item active"
                               data-tab="segment-publication-1"
                               role="tab"
                               aria-selected="false">
                                [[%romanesco.article.latest]]
                            </a>
                            <a class="item"
                               data-tab="segment-publication-2"
                               role="tab"
                               aria-selected="false">
                                [[%romanesco.article.most_viewed]]
                            </a>
                        </div>

                        <div class="ui bottom attached active tab segment"
                             data-tab="segment-publication-1"
                             role="tabpanel"
                             aria-hidden="false">
                            <div class="ui divided items">
                                [[getResources?
                                    &parents=`[[++romanesco.publication_container_id]]`
                                    &resources=`[[+excluded_resources]]`
                                    &tpl=`overviewRowArticleItemBasic`
                                    &includeTVs=`1`
                                    &processTVs=`1`
                                    &showHidden=`1`
                                    &sortby=`publishedon`
                                    &sortdir=`DESC`

                                    &column_type=`item`
                                    &title_field=`pagetitle`
                                    &level=`h5`
                                    &meta_elements=`date`
                                    &show_introtext=`0`

                                    &unique_idx=`latest`
                                ]]
                            </div>

                        </div>
                        <div class="ui bottom attached tab segment"
                             data-tab="segment-publication-2"
                             role="tabpanel"
                             aria-hidden="false">
                            <div class="ui divided items">
                                [[getResources?
                                    &parents=`-1`
                                    &resources=`[[Hits? &parents=`[[++romanesco.publication_container_id]]` &limit=`5` &outputSeparator=`,`]]`
                                    &tpl=`overviewRowArticleItemBasic`
                                    &includeTVs=`1`
                                    &processTVs=`1`
                                    &showHidden=`1`
                                    &sortby=`FIELD(modResource.id, [[Hits? &parents=`[[++romanesco.publication_container_id]]` &limit=`5` &outputSeparator=`,`]] )`
                                    &sortdir=`ASC`

                                    &column_type=`item`
                                    &title_field=`pagetitle`
                                    &level=`h5`
                                    &meta_elements=`date`
                                    &show_introtext=`0`

                                    &unique_idx=`most_viewed`
                                ]]
                            </div>
                        </div>
                    </div>

                </section>
            </aside>
        </div>
    </main>

    [[[[modifiedIf?
        &subject=`footerTheme`
        &operator=`iselement`
        &operand=`chunk`
        &then=`$footerTheme`
        &else=`$footer`
    ]]]]
</div>

[[loadAssets? &component=`tabs`]]
[[$script]]

</body>
</html>