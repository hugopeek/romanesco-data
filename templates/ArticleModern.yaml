id: 6
templatename: ArticleModern
category: t_publication
icon: icon-pencil
properties: 'a:2:{s:13:"elementStatus";a:7:{s:4:"name";s:13:"elementStatus";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:5:"solid";s:7:"lexicon";s:20:"romanesco:properties";s:4:"area";s:0:"";}s:14:"elementPreview";a:7:{s:4:"name";s:14:"elementPreview";s:4:"desc";s:0:"";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:20:"romanesco:properties";s:4:"area";s:0:"";}}'

-----

<!DOCTYPE html>
<html id="[[*context_key]]" lang="[[++cultureKey]]">

[[!Hits? &punch=`[[*id]]`]]

<head>
    [[[[modifiedIf?
        &subject=`headTheme`
        &operator=`iselement`
        &operand=`chunk`
        &then=`$headTheme`
        &else=`$head`
    ]]]]
</head>

<body id="[[*alias]]" class="publication modern">

[[$offCanvasNav]]

<div class="pusher">
    [[$headerBasic]]

    [[[[modifiedIf?
        &subject=`toolbarBasicTheme`
        &operator=`iselement`
        &operand=`chunk`
        &then=`$toolbarBasicTheme`
        &else=`$toolbarBasic`
    ]]]]

    <main id="main">
        <article id="content">

            <header class="ui vertical stripe segment [[setBackground? &background=`[[++layout_background_default]]`]] introduction">
                <div class="ui main text container">
                    <h1 class="ui header">[[*pagetitle]]</h1>
                    <p class="subtitle muted">
                        [[%romanesco.article.written_by]]
                        <a href="[[~[[*author_id:empty=`[[++error_page]]`]]]]" rel="author">[[#[[*author_id]].pagetitle:empty=`[[++site_name]]`]]</a>
                        [[%romanesco.article.written_on]]
                        [[*publishedon:strtotime:date=`[[++romanesco.date_format_long]]`]]
                    </p>
                </div>
            </header>

            [[$content? &container_type=`text`]]

            <footer class="ui vertical stripe segment [[setBackground? &background=`[[++layout_background_default]]`]]">
                <div class="ui text container">
                    <div class="ui divider"></div>
                    <div class="ui equal width middle aligned grid">
                        <div class="column">
                            <div class="ui big labels">
                                [[TaggerGetTags?
                                    &groups=`[[*tag_groups]]`
                                    &resources=`[[*id]]`
                                    &target=`[[*parent]]`
                                    &rowTpl=`tagItemBasicLink`
                                ]]
                            </div>
                        </div>
                        <div class="compact column">
                            [[$socialShareButtonsDropdown]]
                        </div>
                    </div>
                </div>

                [[*author_id:notempty=`
                <section id="author-bio" class="ui tightened container">
                    <div class="ui padded segment">
                        [[[[If?
                            &subject=`[[*author_id:empty=`0`]]`
                            &operator=`notempty`
                            &then=`getResources?
                                &resources=`[[*author_id:empty=`0`]]`
                                &tpl=`articleAuthorBio[[modifiedIf? &subject=`articleAuthorBioTheme` &operator=`iselement` &operand=`chunk` &then=`Theme` &else=``]]`
                                &includeTVs=`1`
                                &tvPrefix=``
                            `
                        ]]]]
                    </div>
                </section>
                `]]

                [[*comments_toggle:eq=`1`:then=`
                <section id="comments" class="ui text container">
                    <h2 class="ui header">[[%romanesco.article.comments]]</h2>
                    <div id="[[++romanesco.[[++comment_platform:lcase]]_div_id]]"></div>
                </section>
                `]]
            </footer>

        </article>

        [[[[If?
            &subject=`[[*neighbors_visibility]]`
            &operator=`eq`
            &operand=`1`
            &then=`$neighborsNav? &classes=`stackable``
        ]]]]

        <aside id="further-reading" class="ui vertical stripe segment secondary">
            <div class="ui tightened container">
                <div class="ui stackable very relaxed two column grid">
                    <div class="eight wide column">
                        <div class="ui disabled mini header">[[%romanesco.article.latest]]</div>
                        <div class="ui divided items">
                            [[getResources?
                                &parents=`[[++romanesco.publication_container_id]]`
                                &resources=`[[+excluded_resources]]`
                                &tpl=`overviewRowArticleItemBasic`
                                &limit=`3`
                                &includeTVs=`1`
                                &processTVs=`1`
                                &showHidden=`1`
                                &sortby=`publishedon`
                                &sortdir=`DESC`

                                &column_type=`item`
                                &title_field=`pagetitle`
                                &level=`h4`
                                &meta_elements=`date,reading-time`
                                &show_introtext=`0`

                                &unique_idx=`latest_[[*id]]`
                            ]]
                        </div>
                    </div>
                    <div class="eight wide column">
                        <div class="ui disabled mini header">[[%romanesco.article.most_viewed]]</div>
                        <div class="ui divided items">
                            [[getResources?
                                &parents=`-1`
                                &resources=`[[Hits? &parents=`[[++romanesco.publication_container_id]]` &limit=`5` &outputSeparator=`,`]]`
                                &tpl=`overviewRowArticleItemBasic`
                                &limit=`3`
                                &includeTVs=`1`
                                &processTVs=`1`
                                &showHidden=`1`
                                &sortby=`FIELD(modResource.id, [[Hits? &parents=`[[++romanesco.publication_container_id]]` &limit=`5` &outputSeparator=`,`]] )`
                                &sortdir=`ASC`

                                &column_type=`item`
                                &title_field=`pagetitle`
                                &level=`h4`
                                &meta_elements=`date,reading-time`
                                &show_introtext=`0`

                                &unique_idx=`views_[[*id]]`
                            ]]
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </main>

    [[[[modifiedIf?
        &subject=`footerTheme`
        &operator=`iselement`
        &operand=`chunk`
        &then=`$footerTheme`
        &else=`$footer`
    ]]]]
</div>

[[$script]]

</body>
</html>