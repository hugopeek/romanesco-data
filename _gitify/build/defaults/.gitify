# Gitify configuration for data that needs to be set only once on installation.

data_directory: ../../../../_defaults/

data:
    system_settings:
        class: MODX\Revolution\modSystemSetting
        primary: key
        exclude_keys:
            - editedon

        # Exclude all system settings that could contain project-specific paths
        # Exclude all settings for login names / passwords / keys / access tokens
        # Exclude all language or timezone related settings
        # Exclude MODX version, since that could differ per install
        where:
            - 'key:NOT IN':
                - 'extension_packages'
                - 'settings_version'
                - 'email_sender'
                - 'error_page'
                - 'session_cookie_domain'
                - 'formblocks.formsource'
                - 'formit.form_encryptkey'
                - 'romanesco.assets_version_css'
                - 'romanesco.assets_version_js'
                - 'romanesco.favicon_version'
                - 'romanesco.dev_mode'
                - 'romanesco.env_path'
            - 'AND:key:NOT LIKE': 'mail_%'
            - 'AND:key:NOT LIKE': 'recaptcha.%'
            - 'AND:key:NOT LIKE': 'gitpackagemanagement.%'
            - 'AND:key:NOT LIKE': 'gpm.%'
            - 'AND:key:NOT LIKE': 'xrouting.%'
            - 'AND:key:NOT LIKE': 'smartrouting.%'
            - 'AND:key:NOT LIKE': '%.assets_path'
            - 'AND:key:NOT LIKE': '%.assets_url'
            - 'AND:key:NOT LIKE': '%.core_path'

    media_sources:
        class: MODX\Revolution\Sources\modMediaSource
        primary: name
        where:
            - 'id:<': '100000'
    media_sources_elements:
        class: MODX\Revolution\Sources\modMediaSourceElement
        primary:
            - source
            - object
            - object_class
            - context_key
        where:
            - 'object:<': '100000'
            - 'context_key:IN':
                - 'web'
                - 'global'
                - 'hub'

    # ClientConfig
    cg_groups:
        class: cgGroup
        primary: label
        where:
            - 'id:<': '100000'
        package: clientconfig
    cg_settings:
        class: cgSetting
        primary: key
        where:
            - 'id:<': '100000'

    # Collections
    collections_settings:
        class: Collections\Model\CollectionSetting
        primary:
            - id
            - collection
        where:
            - 'id:<': '100000'
        package: collections

    # Additional top menu items with Romanesco shortcuts
    menus:
        class: MODX\Revolution\modMenu
        primary: text
        where:
            - 'text:LIKE': 'romanesco.menu.global%'
            - 'OR:text:LIKE': 'clientconfig%'

    # Create Romanesco namespace, so System Settings and Lexicons become visible
    namespaces:
        class: MODX\Revolution\modNamespace
        primary: name
        exclude_keys:
            - path
            - assets_path
        where:
            'name:IN':
                - 'romanesco'
                - 'formblocks'

    # Include Lexicons, so default keys can be adjusted and centrally managed
    lexicon_entries:
        class: MODX\Revolution\modLexiconEntry
        primary:
            - id
            - name
        exclude_keys:
            - editedon
        where:
            - 'id:<': '100000'

    # Adjust content types, such as removing .html extensions of all pages
    content_type:
        class: MODX\Revolution\modContentType
        primary: name
        where:
            - 'id:<': '100000'