text: romanesco.menu.clear_cache_all_title
parent: manage
description: romanesco.menu.clear_cache_all_description
menuindex: 2
handler: "var topics = {\n    overviews: \"/getcache/cache/partition/refresh/overviews/\",\n    clients: \"/getcache/cache/partition/refresh/clients/\",\n    gallery: \"/getcache/cache/partition/refresh/gallery/\",\n    portfolio: \"/getcache/cache/partition/refresh/portfolio/\",\n    publication: \"/getcache/cache/partition/refresh/publication/\",\n    team: \"/getcache/cache/partition/refresh/team/\",\n    testimonials: \"/getcache/cache/partition/refresh/testimonials/\"\n};\n\nif (this.console == null || this.console == undefined) {\n    this.console = MODx.load({\n        xtype: 'modx-console'\n        ,register: 'mgr'\n        ,topic: topics\n        ,show_filename: 0\n        ,listeners: {\n            'shutdown': {fn:function() {\n                window.location.reload();\n            },scope:this}\n        }\n    });\n} else {\n    this.console.setRegister('mgr', topics);\n}\n\nthis.console.show(Ext.getBody());\n\nfor (var partition in topics) {\n    MODx.Ajax.request({\n        url: MODx.config.assets_url+'components/getcache/connector.php'\n        ,params: { action: 'cache/partition/refresh', partitions: partition, register: 'mgr' , topic: topics[partition] }\n        ,listeners: {\n            'success':{fn:function() {\n                // @todo: output some kind of response here\n                this.console.fireEvent('complete');\n            },scope:this}\n        }\n    });\n}\n\nreturn false;"
permissions: empty_cache
namespace: romanescobackyard
